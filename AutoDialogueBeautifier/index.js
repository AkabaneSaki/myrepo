var __webpack_modules__ = {
  "./src/自适应正则脚本/index.ts"() {
    eval("{\n// 自适应正则脚本\n// 功能：AI输出完成后，检测最后一层聊天存在的表达式，将匹配的 scriptName 存入变量并排序\n// 加载脚本/变量变化时，检查角色卡正则列表与变量列表，注册缺失的正则\n// 卸载脚本时，根据列表卸载对应的正则\n// 使用防抖机制（500ms）防止无限循环\n// regex.json 网络链接\nconst REGEX_JSON_URL = 'https://testingcf.jsdelivr.net/gh/AkabaneSaki/myrepo@main/AutoDialogueBeautifier/regex.json';\n$(async () => {\n    console.info('自适应正则脚本已加载');\n    // ========== 加载网络 regex.json ==========\n    let regexData = [];\n    try {\n        console.info('自适应正则: 正在从网络加载 regex.json...');\n        const response = await fetch(REGEX_JSON_URL);\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        regexData = await response.json();\n        console.info(`自适应正则: 成功从网络加载 ${regexData.length} 条规则`);\n    }\n    catch (error) {\n        console.error('自适应正则: 从网络加载失败:', error);\n        toastr.error('自适应正则: 加载规则失败，请检查网络连接');\n        return; // 加载失败时退出\n    }\n    // 聊天变量键名 - 存储当前应该注册的正则 scriptName 列表\n    const VARIABLE_KEY = 'adaptive_regex_names';\n    // 同步锁，防止无限循环\n    let isSyncing = false;\n    // 上次处理的聊天ID，用于防抖\n    let lastChatId = null;\n    // 防抖定时器\n    let syncTimeout = null;\n    // ========== 缓存机制 ==========\n    // 缓存编译后的正则 patterns，避免每次消息都重新解析\n    let cachedPatterns = null;\n    // 缓存启用的正则规则\n    let cachedEnabledRules = null;\n    // 清除缓存（用于 regex.json 更新时）\n    const clearCache = () => {\n        cachedPatterns = null;\n        cachedEnabledRules = null;\n        console.info('自适应正则: 缓存已清除');\n    };\n    console.info(`自适应正则: 成功加载 ${regexData.length} 条规则`);\n    // 从 regex.json 中获取有效的正则规则（带缓存）\n    const getEnabledRegexRules = () => {\n        if (cachedEnabledRules !== null) {\n            return cachedEnabledRules;\n        }\n        cachedEnabledRules = regexData\n            .filter((rule) => !rule.disabled)\n            .map((rule) => ({\n            id: rule.id,\n            script_name: rule.scriptName,\n            enabled: true,\n            scope: 'character',\n            find_regex: rule.findRegex,\n            replace_string: rule.replaceString,\n            trim_strings: Array.isArray(rule.trimStrings) ? rule.trimStrings.join('\\n') : '',\n            source: {\n                user_input: false,\n                ai_output: true,\n                slash_command: false,\n                world_info: false,\n            },\n            destination: {\n                display: true,\n                prompt: false,\n            },\n            run_on_edit: rule.runOnEdit ?? true,\n            min_depth: rule.minDepth ?? null,\n            max_depth: rule.maxDepth ?? 10,\n        }));\n        return cachedEnabledRules;\n    };\n    // 从 regex.json 提取检测模式（带缓存，避免每次消息都重新解析）\n    const extractDetectionPatterns = () => {\n        // 直接返回缓存，避免重复计算\n        if (cachedPatterns !== null) {\n            return cachedPatterns;\n        }\n        // 计算并缓存结果\n        const result = regexData\n            .filter((rule) => !rule.disabled)\n            .map((rule) => {\n            let patternStr = rule.findRegex;\n            // 解析正则表达式，去除可能的 /pattern/flags 格式\n            const match = patternStr.match(/^\\/(.+)\\/([gimsuy]*)$/);\n            if (match) {\n                patternStr = match[1];\n            }\n            try {\n                const pattern = new RegExp(patternStr, 'i');\n                let quickCheck = '';\n                if (patternStr.includes('{') || patternStr.includes('\\\\{')) {\n                    quickCheck = '{';\n                }\n                else if (patternStr.includes('<') || patternStr.includes('\\\\<')) {\n                    const tagMatch = patternStr.match(/<(\\w+)/);\n                    if (tagMatch) {\n                        quickCheck = `<${tagMatch[1]}`;\n                    }\n                }\n                else if (patternStr.includes('\\\\[') || patternStr.includes('\\\\]')) {\n                    quickCheck = '[';\n                }\n                else if (patternStr.includes('\\\\(') || patternStr.includes('\\\\)')) {\n                    quickCheck = '(';\n                }\n                else if (patternStr.startsWith('>')) {\n                    quickCheck = '>';\n                }\n                else if (patternStr.startsWith('<')) {\n                    const firstTagMatch = patternStr.match(/<(\\w+)/);\n                    if (firstTagMatch) {\n                        quickCheck = `<${firstTagMatch[1]}`;\n                    }\n                }\n                else {\n                    quickCheck = patternStr.substring(0, Math.min(15, patternStr.length));\n                }\n                return {\n                    scriptName: rule.scriptName,\n                    pattern,\n                    quickCheck,\n                };\n            }\n            catch (e) {\n                console.warn(`无效的正则表达式: ${patternStr}`, e);\n                return null;\n            }\n        })\n            .filter(Boolean);\n        // 存入缓存并返回\n        cachedPatterns = result;\n        return result;\n    };\n    // 检测消息中包含的需要处理的正则 scriptName\n    // skipStoredNames: 已存储的正则名称列表，跳过这些正则的匹配检测\n    const detectNeededScriptNames = (messageContent, skipStoredNames = []) => {\n        if (!messageContent || messageContent.length < 3) {\n            return [];\n        }\n        const patterns = extractDetectionPatterns();\n        const neededNames = [];\n        const skipSet = new Set(skipStoredNames);\n        for (const { scriptName, pattern, quickCheck } of patterns) {\n            // 跳过已存储的正则（它们已经匹配过了，不需要再次检测）\n            if (skipSet.has(scriptName)) {\n                continue;\n            }\n            // 快速预检查\n            if (quickCheck && !messageContent.includes(quickCheck)) {\n                continue;\n            }\n            try {\n                pattern.lastIndex = 0;\n                if (pattern.test(messageContent)) {\n                    neededNames.push(scriptName);\n                    console.info(`自适应正则: 检测到 ${scriptName}`);\n                }\n            }\n            catch (e) {\n                // 忽略正则测试错误\n            }\n        }\n        return neededNames;\n    };\n    // 获取聊天变量中存储的正则名称列表\n    const getStoredRegexNames = () => {\n        try {\n            const chatVars = getVariables({ type: 'chat' });\n            const stored = chatVars?.[VARIABLE_KEY];\n            if (Array.isArray(stored)) {\n                return stored.filter((item) => typeof item === 'string');\n            }\n        }\n        catch (e) {\n            console.warn('获取存储的正则名称失败:', e);\n        }\n        return [];\n    };\n    // 保存正则名称列表到聊天变量（排序后）\n    const saveStoredRegexNames = (names) => {\n        try {\n            // 排序保证一致性\n            const sortedNames = [...names].sort();\n            replaceVariables({ [VARIABLE_KEY]: sortedNames }, { type: 'chat' });\n            console.info(`自适应正则: 已保存 ${sortedNames.length} 个正则名称到聊天变量`);\n        }\n        catch (e) {\n            console.warn('保存正则名称失败:', e);\n        }\n    };\n    // 获取角色卡当前已注册的所有正则 scriptName\n    const getCharacterCardRegexNames = async () => {\n        const names = new Set();\n        try {\n            const regexes = await updateTavernRegexesWith((regexes) => {\n                regexes.forEach(r => names.add(r.script_name));\n                return regexes;\n            });\n        }\n        catch (e) {\n            console.warn('获取角色卡正则列表失败:', e);\n        }\n        return names;\n    };\n    // 注册单个正则规则\n    const registerRegexRule = async (rule) => {\n        try {\n            await updateTavernRegexesWith((regexes) => {\n                // 避免重复注册同名正则\n                const filtered = regexes.filter((r) => r.script_name !== rule.script_name);\n                return [...filtered, rule];\n            });\n        }\n        catch (e) {\n            console.warn(`注册正则失败: ${rule.script_name}`, e);\n        }\n    };\n    // 同步正则列表：对比变量列表和角色卡正则列表\n    // - 移除：存在于角色卡正则列表但不在变量列表中的正则\n    // - 注册：存在于变量列表但不在角色卡正则列表中的正则\n    const syncRegexWithVariable = async () => {\n        // 防止重复调用\n        if (isSyncing) {\n            console.info('自适应正则: 正在同步中，跳过本次调用');\n            return;\n        }\n        try {\n            isSyncing = true;\n            const variableNames = getStoredRegexNames();\n            const variableSet = new Set(variableNames);\n            const characterCardNames = await getCharacterCardRegexNames();\n            const characterSet = new Set(characterCardNames);\n            // 获取所有启用状态的 regex.json 规则名称（用于判断是否应该移除）\n            const enabledRegexNames = new Set(getEnabledRegexRules().map(r => r.script_name));\n            // 找出需要移除的正则（同时满足两个条件：1. 在regex.json中启用 2. 不在变量列表中）\n            const toRemove = [];\n            for (const name of characterCardNames) {\n                // 只有当该正则是在regex.json中启用着的，且不在变量列表中时才移除\n                if (!variableSet.has(name) && enabledRegexNames.has(name)) {\n                    toRemove.push(name);\n                }\n            }\n            // 找出需要注册的正则（在变量中但不在角色卡中）\n            const toRegister = [];\n            for (const name of variableNames) {\n                if (!characterSet.has(name)) {\n                    toRegister.push(name);\n                }\n            }\n            // 执行移除\n            if (toRemove.length > 0) {\n                await removeRegexByNames(toRemove);\n                console.info(`自适应正则: 已移除 ${toRemove.length} 条不在变量列表中的规则: ${toRemove.join(', ')}`);\n            }\n            // 执行注册\n            if (toRegister.length > 0) {\n                const allRules = getEnabledRegexRules();\n                let registeredCount = 0;\n                for (const name of toRegister) {\n                    const rule = allRules.find(r => r.script_name === name);\n                    if (rule) {\n                        await registerRegexRule(rule);\n                        registeredCount++;\n                        console.info(`自适应正则: 已注册 ${name}`);\n                    }\n                }\n                if (registeredCount > 0) {\n                    console.info(`自适应正则: 共注册了 ${registeredCount} 条规则`);\n                }\n            }\n            if (toRemove.length === 0 && toRegister.length === 0) {\n                console.info('自适应正则: 变量列表与角色卡正则列表已同步，无需更新');\n            }\n        }\n        catch (e) {\n            console.error('同步正则列表失败:', e);\n        }\n        finally {\n            isSyncing = false;\n        }\n    };\n    // 移除指定名称的正则\n    const removeRegexByNames = async (names) => {\n        if (names.length === 0)\n            return;\n        try {\n            await updateTavernRegexesWith((regexes) => {\n                return regexes.filter((r) => !names.includes(r.script_name));\n            });\n            console.info(`自适应正则: 已移除 ${names.length} 条规则`);\n        }\n        catch (e) {\n            console.warn('移除正则失败:', e);\n        }\n    };\n    // 扫描最后一层消息并更新变量\n    const scanAndUpdateVariable = async () => {\n        try {\n            console.info('自适应正则: 开始扫描最后一层消息');\n            const messages = getChatMessages(-1); // 获取最后一条消息\n            console.info('自适应正则: 获取到的消息:', messages);\n            if (!messages || messages.length === 0) {\n                console.info('自适应正则: 没有找到消息，返回');\n                return;\n            }\n            const lastMessage = messages[0];\n            const messageContent = lastMessage.message;\n            console.info('自适应正则: 消息内容:', messageContent);\n            // 获取已存储的名称，用于跳过检测\n            const storedNames = getStoredRegexNames();\n            console.info('自适应正则: 已存储的正则名称:', storedNames);\n            // 检测需要的正则名称（跳过已存储的正则）\n            const detectedNames = detectNeededScriptNames(messageContent, storedNames);\n            console.info('自适应正则: 检测到的新正则名称:', detectedNames);\n            // 合并并去重\n            const combinedNames = [...new Set([...storedNames, ...detectedNames])];\n            console.info('自适应正则: 合并后的正则名称:', combinedNames);\n            // 如果有变化，保存并同步\n            const storedSorted = [...storedNames].sort().join(',');\n            const combinedSorted = [...combinedNames].sort().join(',');\n            console.info('自适应正则: 排序后的存储名称:', storedSorted);\n            console.info('自适应正则: 排序后的合并名称:', combinedSorted);\n            if (storedSorted !== combinedSorted) {\n                console.info(`自适应正则: 检测到变化，从 ${storedNames.length} 个更新到 ${combinedNames.length} 个`);\n                saveStoredRegexNames(combinedNames);\n                await syncRegexWithVariable();\n            }\n            else {\n                console.info('自适应正则: 无变化，不更新');\n            }\n        }\n        catch (e) {\n            console.error('扫描消息更新变量失败:', e);\n        }\n    };\n    // 初始化：根据变量中的列表注册缺失的正则\n    const initializeFromVariable = async () => {\n        const storedNames = getStoredRegexNames();\n        if (storedNames.length > 0) {\n            console.info(`自适应正则: 初始化，从变量加载 ${storedNames.length} 个正则`);\n            await syncRegexWithVariable();\n        }\n        else {\n            // 如果变量为空，扫描当前消息\n            console.info('自适应正则: 变量为空，扫描当前消息');\n            await scanAndUpdateVariable();\n        }\n    };\n    // 监听变量变化的事件回调\n    let previousStoredNames = [];\n    const watchVariableChange = () => {\n        // 初始记录\n        previousStoredNames = getStoredRegexNames();\n        // 重写 replaceVariables 函数来监听变量变化\n        const originalReplaceVariables = replaceVariables;\n        window.replaceVariables = function (variables, option) {\n            const result = originalReplaceVariables.call(this, variables, option);\n            // 检查是否是聊天变量发生变化，且不在同步中\n            if (!isSyncing && (option?.type === 'chat' || !option)) {\n                const currentStoredNames = getStoredRegexNames();\n                const currentSorted = [...currentStoredNames].sort().join(',');\n                const previousSorted = [...previousStoredNames].sort().join(',');\n                if (currentSorted !== previousSorted) {\n                    console.info(`自适应正则: 变量发生变化，刷新正则列表`);\n                    // 使用防抖，避免频繁触发\n                    if (syncTimeout) {\n                        clearTimeout(syncTimeout);\n                    }\n                    syncTimeout = setTimeout(() => {\n                        syncRegexWithVariable().then(() => {\n                            previousStoredNames = getStoredRegexNames();\n                        });\n                    }, 500);\n                }\n            }\n            return result;\n        };\n    };\n    // 监听新消息事件（AI输出完成时）\n    eventOn(tavern_events.MESSAGE_RECEIVED, async (messageId) => {\n        console.info(`自适应正则: 收到新消息 ${messageId}，扫描最新楼层`);\n        await scanAndUpdateVariable();\n    });\n    // 监听聊天切换事件（带防抖）\n    eventOn(tavern_events.CHAT_CHANGED, async (chatFileName) => {\n        console.info(`自适应正则: 检测到聊天切换到 ${chatFileName}`);\n        // 忽略相同的聊天ID\n        if (lastChatId === chatFileName) {\n            return;\n        }\n        lastChatId = chatFileName;\n        // 清除之前的定时器\n        if (syncTimeout) {\n            clearTimeout(syncTimeout);\n        }\n        // 防抖：延迟 500ms 执行同步\n        syncTimeout = setTimeout(async () => {\n            if (!isSyncing) {\n                await syncRegexWithVariable();\n            }\n        }, 500);\n    });\n    // 卸载时移除所有本脚本注册的正则\n    $(window).on('pagehide', async () => {\n        const storedNames = getStoredRegexNames();\n        if (storedNames.length > 0) {\n            await removeRegexByNames(storedNames);\n            console.info(`自适应正则: 已卸载 ${storedNames.length} 条规则`);\n        }\n        console.info('自适应正则脚本已卸载');\n    });\n    // 启动\n    console.info('自适应正则: 启动初始化');\n    await initializeFromVariable();\n    watchVariableChange();\n    const enabledRules = regexData.filter((r) => !r.disabled).length;\n    console.info(`自适应正则: 准备了 ${enabledRules} 条规则用于检测`);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUFDO1FBRUQsbUJBQW1CO1FBQ25CLFdBQVcsR0FBRyxVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNmLE1BQU0scUJBQXFCLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1FBQ0gsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1YsQ0FBQyxDQUFDLENBQUM7SUFFSCxrQkFBa0I7SUFDbEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDbEMsTUFBTSxXQUFXLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztRQUMxQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDM0IsTUFBTSxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN0QyxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsV0FBVyxDQUFDLE1BQU0sTUFBTSxDQUFDLENBQUM7UUFDdkQsQ0FBQztRQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFFSCxLQUFLO0lBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUM3QixNQUFNLHNCQUFzQixFQUFFLENBQUM7SUFDL0IsbUJBQW1CLEVBQUUsQ0FBQztJQUV0QixNQUFNLFlBQVksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDdEUsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLFlBQVksVUFBVSxDQUFDLENBQUM7QUFDckQsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL+iHqumAguW6lOato+WImeiEmuacrC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDoh6rpgILlupTmraPliJnohJrmnKxcbi8vIOWKn+iDve+8mkFJ6L6T5Ye65a6M5oiQ5ZCO77yM5qOA5rWL5pyA5ZCO5LiA5bGC6IGK5aSp5a2Y5Zyo55qE6KGo6L6+5byP77yM5bCG5Yy56YWN55qEIHNjcmlwdE5hbWUg5a2Y5YWl5Y+Y6YeP5bm25o6S5bqPXG4vLyDliqDovb3ohJrmnKwv5Y+Y6YeP5Y+Y5YyW5pe277yM5qOA5p+l6KeS6Imy5Y2h5q2j5YiZ5YiX6KGo5LiO5Y+Y6YeP5YiX6KGo77yM5rOo5YaM57y65aSx55qE5q2j5YiZXG4vLyDljbjovb3ohJrmnKzml7bvvIzmoLnmja7liJfooajljbjovb3lr7nlupTnmoTmraPliJlcbi8vIOS9v+eUqOmYsuaKluacuuWItu+8iDUwMG1z77yJ6Ziy5q2i5peg6ZmQ5b6q546vXG5cbi8vIHJlZ2V4Lmpzb24g572R57uc6ZO+5o6lXG5jb25zdCBSRUdFWF9KU09OX1VSTCA9ICdodHRwczovL3Rlc3RpbmdjZi5qc2RlbGl2ci5uZXQvZ2gvQWthYmFuZVNha2kvbXlyZXBvQG1haW4vQXV0b0RpYWxvZ3VlQmVhdXRpZmllci9yZWdleC5qc29uJztcblxuJChhc3luYyAoKSA9PiB7XG4gIGNvbnNvbGUuaW5mbygn6Ieq6YCC5bqU5q2j5YiZ6ISa5pys5bey5Yqg6L29Jyk7XG5cbiAgLy8gPT09PT09PT09PSDliqDovb3nvZHnu5wgcmVnZXguanNvbiA9PT09PT09PT09XG4gIGxldCByZWdleERhdGE6IGFueVtdID0gW107XG4gIHRyeSB7XG4gICAgY29uc29sZS5pbmZvKCfoh6rpgILlupTmraPliJk6IOato+WcqOS7jue9kee7nOWKoOi9vSByZWdleC5qc29uLi4uJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChSRUdFWF9KU09OX1VSTCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cbiAgICByZWdleERhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOaIkOWKn+S7jue9kee7nOWKoOi9vSAke3JlZ2V4RGF0YS5sZW5ndGh9IOadoeinhOWImWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+iHqumAguW6lOato+WImTog5LuO572R57uc5Yqg6L295aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+iHqumAguW6lOato+WImTog5Yqg6L296KeE5YiZ5aSx6LSl77yM6K+35qOA5p+l572R57uc6L+e5o6lJyk7XG4gICAgcmV0dXJuOyAvLyDliqDovb3lpLHotKXml7bpgIDlh7pcbiAgfVxuXG4gIC8vIOiBiuWkqeWPmOmHj+mUruWQjSAtIOWtmOWCqOW9k+WJjeW6lOivpeazqOWGjOeahOato+WImSBzY3JpcHROYW1lIOWIl+ihqFxuICBjb25zdCBWQVJJQUJMRV9LRVkgPSAnYWRhcHRpdmVfcmVnZXhfbmFtZXMnO1xuXG4gIC8vIOWQjOatpemUge+8jOmYsuatouaXoOmZkOW+queOr1xuICBsZXQgaXNTeW5jaW5nID0gZmFsc2U7XG4gIC8vIOS4iuasoeWkhOeQhueahOiBiuWkqUlE77yM55So5LqO6Ziy5oqWXG4gIGxldCBsYXN0Q2hhdElkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgLy8g6Ziy5oqW5a6a5pe25ZmoXG4gIGxldCBzeW5jVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcblxuICAvLyA9PT09PT09PT09IOe8k+WtmOacuuWItiA9PT09PT09PT09XG4gIC8vIOe8k+WtmOe8luivkeWQjueahOato+WImSBwYXR0ZXJuc++8jOmBv+WFjeavj+asoea2iOaBr+mDvemHjeaWsOino+aekFxuICBsZXQgY2FjaGVkUGF0dGVybnM6IHsgc2NyaXB0TmFtZTogc3RyaW5nOyBwYXR0ZXJuOiBSZWdFeHA7IHF1aWNrQ2hlY2s6IHN0cmluZyB9W10gfCBudWxsID0gbnVsbDtcbiAgLy8g57yT5a2Y5ZCv55So55qE5q2j5YiZ6KeE5YiZXG4gIGxldCBjYWNoZWRFbmFibGVkUnVsZXM6IFRhdmVyblJlZ2V4W10gfCBudWxsID0gbnVsbDtcblxuICAvLyDmuIXpmaTnvJPlrZjvvIjnlKjkuo4gcmVnZXguanNvbiDmm7TmlrDml7bvvIlcbiAgY29uc3QgY2xlYXJDYWNoZSA9ICgpOiB2b2lkID0+IHtcbiAgICBjYWNoZWRQYXR0ZXJucyA9IG51bGw7XG4gICAgY2FjaGVkRW5hYmxlZFJ1bGVzID0gbnVsbDtcbiAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog57yT5a2Y5bey5riF6ZmkJyk7XG4gIH07XG5cbiAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOaIkOWKn+WKoOi9vSAke3JlZ2V4RGF0YS5sZW5ndGh9IOadoeinhOWImWApO1xuXG4gIC8vIOS7jiByZWdleC5qc29uIOS4reiOt+WPluacieaViOeahOato+WImeinhOWIme+8iOW4pue8k+WtmO+8iVxuICBjb25zdCBnZXRFbmFibGVkUmVnZXhSdWxlcyA9ICgpOiBUYXZlcm5SZWdleFtdID0+IHtcbiAgICBpZiAoY2FjaGVkRW5hYmxlZFJ1bGVzICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2FjaGVkRW5hYmxlZFJ1bGVzO1xuICAgIH1cbiAgICBjYWNoZWRFbmFibGVkUnVsZXMgPSByZWdleERhdGFcbiAgICAgIC5maWx0ZXIoKHJ1bGU6IGFueSkgPT4gIXJ1bGUuZGlzYWJsZWQpXG4gICAgICAubWFwKChydWxlOiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiBydWxlLmlkLFxuICAgICAgICBzY3JpcHRfbmFtZTogcnVsZS5zY3JpcHROYW1lLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBzY29wZTogJ2NoYXJhY3RlcicgYXMgY29uc3QsXG4gICAgICAgIGZpbmRfcmVnZXg6IHJ1bGUuZmluZFJlZ2V4LFxuICAgICAgICByZXBsYWNlX3N0cmluZzogcnVsZS5yZXBsYWNlU3RyaW5nLFxuICAgICAgICB0cmltX3N0cmluZ3M6IEFycmF5LmlzQXJyYXkocnVsZS50cmltU3RyaW5ncykgPyBydWxlLnRyaW1TdHJpbmdzLmpvaW4oJ1xcbicpIDogJycsXG4gICAgICAgIHNvdXJjZToge1xuICAgICAgICAgIHVzZXJfaW5wdXQ6IGZhbHNlLFxuICAgICAgICAgIGFpX291dHB1dDogdHJ1ZSxcbiAgICAgICAgICBzbGFzaF9jb21tYW5kOiBmYWxzZSxcbiAgICAgICAgICB3b3JsZF9pbmZvOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdGluYXRpb246IHtcbiAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgIHByb21wdDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHJ1bl9vbl9lZGl0OiBydWxlLnJ1bk9uRWRpdCA/PyB0cnVlLFxuICAgICAgICBtaW5fZGVwdGg6IHJ1bGUubWluRGVwdGggPz8gbnVsbCxcbiAgICAgICAgbWF4X2RlcHRoOiBydWxlLm1heERlcHRoID8/IDEwLFxuICAgICAgfSkpO1xuICAgIHJldHVybiBjYWNoZWRFbmFibGVkUnVsZXM7XG4gIH07XG5cbiAgLy8g5LuOIHJlZ2V4Lmpzb24g5o+Q5Y+W5qOA5rWL5qih5byP77yI5bim57yT5a2Y77yM6YG/5YWN5q+P5qyh5raI5oGv6YO96YeN5paw6Kej5p6Q77yJXG4gIGNvbnN0IGV4dHJhY3REZXRlY3Rpb25QYXR0ZXJucyA9ICgpOiB7IHNjcmlwdE5hbWU6IHN0cmluZzsgcGF0dGVybjogUmVnRXhwOyBxdWlja0NoZWNrOiBzdHJpbmcgfVtdID0+IHtcbiAgICAvLyDnm7TmjqXov5Tlm57nvJPlrZjvvIzpgb/lhY3ph43lpI3orqHnrpdcbiAgICBpZiAoY2FjaGVkUGF0dGVybnMgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBjYWNoZWRQYXR0ZXJucztcbiAgICB9XG5cbiAgICAvLyDorqHnrpflubbnvJPlrZjnu5PmnpxcbiAgICBjb25zdCByZXN1bHQgPSByZWdleERhdGFcbiAgICAgIC5maWx0ZXIoKHJ1bGU6IGFueSkgPT4gIXJ1bGUuZGlzYWJsZWQpXG4gICAgICAubWFwKChydWxlOiBhbnkpID0+IHtcbiAgICAgICAgbGV0IHBhdHRlcm5TdHIgPSBydWxlLmZpbmRSZWdleDtcblxuICAgICAgICAvLyDop6PmnpDmraPliJnooajovr7lvI/vvIzljrvpmaTlj6/og73nmoQgL3BhdHRlcm4vZmxhZ3Mg5qC85byPXG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVyblN0ci5tYXRjaCgvXlxcLyguKylcXC8oW2dpbXN1eV0qKSQvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgcGF0dGVyblN0ciA9IG1hdGNoWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChwYXR0ZXJuU3RyLCAnaScpO1xuXG4gICAgICAgICAgbGV0IHF1aWNrQ2hlY2sgPSAnJztcbiAgICAgICAgICBpZiAocGF0dGVyblN0ci5pbmNsdWRlcygneycpIHx8IHBhdHRlcm5TdHIuaW5jbHVkZXMoJ1xcXFx7JykpIHtcbiAgICAgICAgICAgIHF1aWNrQ2hlY2sgPSAneyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuU3RyLmluY2x1ZGVzKCc8JykgfHwgcGF0dGVyblN0ci5pbmNsdWRlcygnXFxcXDwnKSkge1xuICAgICAgICAgICAgY29uc3QgdGFnTWF0Y2ggPSBwYXR0ZXJuU3RyLm1hdGNoKC88KFxcdyspLyk7XG4gICAgICAgICAgICBpZiAodGFnTWF0Y2gpIHtcbiAgICAgICAgICAgICAgcXVpY2tDaGVjayA9IGA8JHt0YWdNYXRjaFsxXX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocGF0dGVyblN0ci5pbmNsdWRlcygnXFxcXFsnKSB8fCBwYXR0ZXJuU3RyLmluY2x1ZGVzKCdcXFxcXScpKSB7XG4gICAgICAgICAgICBxdWlja0NoZWNrID0gJ1snO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGF0dGVyblN0ci5pbmNsdWRlcygnXFxcXCgnKSB8fCBwYXR0ZXJuU3RyLmluY2x1ZGVzKCdcXFxcKScpKSB7XG4gICAgICAgICAgICBxdWlja0NoZWNrID0gJygnO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGF0dGVyblN0ci5zdGFydHNXaXRoKCc+JykpIHtcbiAgICAgICAgICAgIHF1aWNrQ2hlY2sgPSAnPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuU3RyLnN0YXJ0c1dpdGgoJzwnKSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUYWdNYXRjaCA9IHBhdHRlcm5TdHIubWF0Y2goLzwoXFx3KykvKTtcbiAgICAgICAgICAgIGlmIChmaXJzdFRhZ01hdGNoKSB7XG4gICAgICAgICAgICAgIHF1aWNrQ2hlY2sgPSBgPCR7Zmlyc3RUYWdNYXRjaFsxXX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWlja0NoZWNrID0gcGF0dGVyblN0ci5zdWJzdHJpbmcoMCwgTWF0aC5taW4oMTUsIHBhdHRlcm5TdHIubGVuZ3RoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjcmlwdE5hbWU6IHJ1bGUuc2NyaXB0TmFtZSxcbiAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICBxdWlja0NoZWNrLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOaXoOaViOeahOato+WImeihqOi+vuW8jzogJHtwYXR0ZXJuU3RyfWAsIGUpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKSBhcyB7IHNjcmlwdE5hbWU6IHN0cmluZzsgcGF0dGVybjogUmVnRXhwOyBxdWlja0NoZWNrOiBzdHJpbmcgfVtdO1xuXG4gICAgLy8g5a2Y5YWl57yT5a2Y5bm26L+U5ZueXG4gICAgY2FjaGVkUGF0dGVybnMgPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyDmo4DmtYvmtojmga/kuK3ljIXlkKvnmoTpnIDopoHlpITnkIbnmoTmraPliJkgc2NyaXB0TmFtZVxuICAvLyBza2lwU3RvcmVkTmFtZXM6IOW3suWtmOWCqOeahOato+WImeWQjeensOWIl+ihqO+8jOi3s+i/h+i/meS6m+ato+WImeeahOWMuemFjeajgOa1i1xuICBjb25zdCBkZXRlY3ROZWVkZWRTY3JpcHROYW1lcyA9IChtZXNzYWdlQ29udGVudDogc3RyaW5nLCBza2lwU3RvcmVkTmFtZXM6IHN0cmluZ1tdID0gW10pOiBzdHJpbmdbXSA9PiB7XG4gICAgaWYgKCFtZXNzYWdlQ29udGVudCB8fCBtZXNzYWdlQ29udGVudC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgcGF0dGVybnMgPSBleHRyYWN0RGV0ZWN0aW9uUGF0dGVybnMoKTtcbiAgICBjb25zdCBuZWVkZWROYW1lczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBza2lwU2V0ID0gbmV3IFNldChza2lwU3RvcmVkTmFtZXMpO1xuXG4gICAgZm9yIChjb25zdCB7IHNjcmlwdE5hbWUsIHBhdHRlcm4sIHF1aWNrQ2hlY2sgfSBvZiBwYXR0ZXJucykge1xuICAgICAgLy8g6Lez6L+H5bey5a2Y5YKo55qE5q2j5YiZ77yI5a6D5Lus5bey57uP5Yy56YWN6L+H5LqG77yM5LiN6ZyA6KaB5YaN5qyh5qOA5rWL77yJXG4gICAgICBpZiAoc2tpcFNldC5oYXMoc2NyaXB0TmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIOW/q+mAn+mihOajgOafpVxuICAgICAgaWYgKHF1aWNrQ2hlY2sgJiYgIW1lc3NhZ2VDb250ZW50LmluY2x1ZGVzKHF1aWNrQ2hlY2spKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlmIChwYXR0ZXJuLnRlc3QobWVzc2FnZUNvbnRlbnQpKSB7XG4gICAgICAgICAgbmVlZGVkTmFtZXMucHVzaChzY3JpcHROYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmluZm8oYOiHqumAguW6lOato+WImTog5qOA5rWL5YiwICR7c2NyaXB0TmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyDlv73nlaXmraPliJnmtYvor5XplJnor69cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmVlZGVkTmFtZXM7XG4gIH07XG5cbiAgLy8g6I635Y+W6IGK5aSp5Y+Y6YeP5Lit5a2Y5YKo55qE5q2j5YiZ5ZCN56ew5YiX6KGoXG4gIGNvbnN0IGdldFN0b3JlZFJlZ2V4TmFtZXMgPSAoKTogc3RyaW5nW10gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGF0VmFycyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdjaGF0JyB9KTtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGNoYXRWYXJzPy5bVkFSSUFCTEVfS0VZXTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0b3JlZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0b3JlZC5maWx0ZXIoKGl0ZW0pOiBpdGVtIGlzIHN0cmluZyA9PiB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybign6I635Y+W5a2Y5YKo55qE5q2j5YiZ5ZCN56ew5aSx6LSlOicsIGUpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgLy8g5L+d5a2Y5q2j5YiZ5ZCN56ew5YiX6KGo5Yiw6IGK5aSp5Y+Y6YeP77yI5o6S5bqP5ZCO77yJXG4gIGNvbnN0IHNhdmVTdG9yZWRSZWdleE5hbWVzID0gKG5hbWVzOiBzdHJpbmdbXSk6IHZvaWQgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDmjpLluo/kv53or4HkuIDoh7TmgKdcbiAgICAgIGNvbnN0IHNvcnRlZE5hbWVzID0gWy4uLm5hbWVzXS5zb3J0KCk7XG4gICAgICByZXBsYWNlVmFyaWFibGVzKHsgW1ZBUklBQkxFX0tFWV06IHNvcnRlZE5hbWVzIH0sIHsgdHlwZTogJ2NoYXQnIH0pO1xuICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOW3suS/neWtmCAke3NvcnRlZE5hbWVzLmxlbmd0aH0g5Liq5q2j5YiZ5ZCN56ew5Yiw6IGK5aSp5Y+Y6YePYCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCfkv53lrZjmraPliJnlkI3np7DlpLHotKU6JywgZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOiOt+WPluinkuiJsuWNoeW9k+WJjeW3suazqOWGjOeahOaJgOacieato+WImSBzY3JpcHROYW1lXG4gIGNvbnN0IGdldENoYXJhY3RlckNhcmRSZWdleE5hbWVzID0gYXN5bmMgKCk6IFByb21pc2U8U2V0PHN0cmluZz4+ID0+IHtcbiAgICBjb25zdCBuYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWdleGVzID0gYXdhaXQgdXBkYXRlVGF2ZXJuUmVnZXhlc1dpdGgoKHJlZ2V4ZXM6IFRhdmVyblJlZ2V4W10pID0+IHtcbiAgICAgICAgcmVnZXhlcy5mb3JFYWNoKHIgPT4gbmFtZXMuYWRkKHIuc2NyaXB0X25hbWUpKTtcbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXM7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+iOt+WPluinkuiJsuWNoeato+WImeWIl+ihqOWksei0pTonLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzO1xuICB9O1xuXG4gIC8vIOazqOWGjOWNleS4quato+WImeinhOWImVxuICBjb25zdCByZWdpc3RlclJlZ2V4UnVsZSA9IGFzeW5jIChydWxlOiBUYXZlcm5SZWdleCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVUYXZlcm5SZWdleGVzV2l0aCgocmVnZXhlczogVGF2ZXJuUmVnZXhbXSkgPT4ge1xuICAgICAgICAvLyDpgb/lhY3ph43lpI3ms6jlhozlkIzlkI3mraPliJlcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSByZWdleGVzLmZpbHRlcigocjogVGF2ZXJuUmVnZXgpID0+IHIuc2NyaXB0X25hbWUgIT09IHJ1bGUuc2NyaXB0X25hbWUpO1xuICAgICAgICByZXR1cm4gWy4uLmZpbHRlcmVkLCBydWxlXTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybihg5rOo5YaM5q2j5YiZ5aSx6LSlOiAke3J1bGUuc2NyaXB0X25hbWV9YCwgZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOWQjOatpeato+WImeWIl+ihqO+8muWvueavlOWPmOmHj+WIl+ihqOWSjOinkuiJsuWNoeato+WImeWIl+ihqFxuICAvLyAtIOenu+mZpO+8muWtmOWcqOS6juinkuiJsuWNoeato+WImeWIl+ihqOS9huS4jeWcqOWPmOmHj+WIl+ihqOS4reeahOato+WImVxuICAvLyAtIOazqOWGjO+8muWtmOWcqOS6juWPmOmHj+WIl+ihqOS9huS4jeWcqOinkuiJsuWNoeato+WImeWIl+ihqOS4reeahOato+WImVxuICBjb25zdCBzeW5jUmVnZXhXaXRoVmFyaWFibGUgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgLy8g6Ziy5q2i6YeN5aSN6LCD55SoXG4gICAgaWYgKGlzU3luY2luZykge1xuICAgICAgY29uc29sZS5pbmZvKCfoh6rpgILlupTmraPliJk6IOato+WcqOWQjOatpeS4re+8jOi3s+i/h+acrOasoeiwg+eUqCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc1N5bmNpbmcgPSB0cnVlO1xuXG4gICAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gZ2V0U3RvcmVkUmVnZXhOYW1lcygpO1xuICAgICAgY29uc3QgdmFyaWFibGVTZXQgPSBuZXcgU2V0KHZhcmlhYmxlTmFtZXMpO1xuICAgICAgY29uc3QgY2hhcmFjdGVyQ2FyZE5hbWVzID0gYXdhaXQgZ2V0Q2hhcmFjdGVyQ2FyZFJlZ2V4TmFtZXMoKTtcbiAgICAgIGNvbnN0IGNoYXJhY3RlclNldCA9IG5ldyBTZXQoY2hhcmFjdGVyQ2FyZE5hbWVzKTtcblxuICAgICAgLy8g6I635Y+W5omA5pyJ5ZCv55So54q25oCB55qEIHJlZ2V4Lmpzb24g6KeE5YiZ5ZCN56ew77yI55So5LqO5Yik5pat5piv5ZCm5bqU6K+l56e76Zmk77yJXG4gICAgICBjb25zdCBlbmFibGVkUmVnZXhOYW1lcyA9IG5ldyBTZXQoZ2V0RW5hYmxlZFJlZ2V4UnVsZXMoKS5tYXAociA9PiByLnNjcmlwdF9uYW1lKSk7XG5cbiAgICAgIC8vIOaJvuWHuumcgOimgeenu+mZpOeahOato+WIme+8iOWQjOaXtua7oei2s+S4pOS4quadoeS7tu+8mjEuIOWcqHJlZ2V4Lmpzb27kuK3lkK/nlKggMi4g5LiN5Zyo5Y+Y6YeP5YiX6KGo5Lit77yJXG4gICAgICBjb25zdCB0b1JlbW92ZTogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBjaGFyYWN0ZXJDYXJkTmFtZXMpIHtcbiAgICAgICAgLy8g5Y+q5pyJ5b2T6K+l5q2j5YiZ5piv5ZyocmVnZXguanNvbuS4reWQr+eUqOedgOeahO+8jOS4lOS4jeWcqOWPmOmHj+WIl+ihqOS4reaXtuaJjeenu+mZpFxuICAgICAgICBpZiAoIXZhcmlhYmxlU2V0LmhhcyhuYW1lKSAmJiBlbmFibGVkUmVnZXhOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICB0b1JlbW92ZS5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOaJvuWHuumcgOimgeazqOWGjOeahOato+WIme+8iOWcqOWPmOmHj+S4reS9huS4jeWcqOinkuiJsuWNoeS4re+8iVxuICAgICAgY29uc3QgdG9SZWdpc3Rlcjogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB2YXJpYWJsZU5hbWVzKSB7XG4gICAgICAgIGlmICghY2hhcmFjdGVyU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICAgIHRvUmVnaXN0ZXIucHVzaChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDmiafooYznp7vpmaRcbiAgICAgIGlmICh0b1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IHJlbW92ZVJlZ2V4QnlOYW1lcyh0b1JlbW92ZSk7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhg6Ieq6YCC5bqU5q2j5YiZOiDlt7Lnp7vpmaQgJHt0b1JlbW92ZS5sZW5ndGh9IOadoeS4jeWcqOWPmOmHj+WIl+ihqOS4reeahOinhOWImTogJHt0b1JlbW92ZS5qb2luKCcsICcpfWApO1xuICAgICAgfVxuXG4gICAgICAvLyDmiafooYzms6jlhoxcbiAgICAgIGlmICh0b1JlZ2lzdGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgYWxsUnVsZXMgPSBnZXRFbmFibGVkUmVnZXhSdWxlcygpO1xuICAgICAgICBsZXQgcmVnaXN0ZXJlZENvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRvUmVnaXN0ZXIpIHtcbiAgICAgICAgICBjb25zdCBydWxlID0gYWxsUnVsZXMuZmluZChyID0+IHIuc2NyaXB0X25hbWUgPT09IG5hbWUpO1xuICAgICAgICAgIGlmIChydWxlKSB7XG4gICAgICAgICAgICBhd2FpdCByZWdpc3RlclJlZ2V4UnVsZShydWxlKTtcbiAgICAgICAgICAgIHJlZ2lzdGVyZWRDb3VudCsrO1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOW3suazqOWGjCAke25hbWV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdpc3RlcmVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOWFseazqOWGjOS6hiAke3JlZ2lzdGVyZWRDb3VudH0g5p2h6KeE5YiZYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA9PT0gMCAmJiB0b1JlZ2lzdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5Y+Y6YeP5YiX6KGo5LiO6KeS6Imy5Y2h5q2j5YiZ5YiX6KGo5bey5ZCM5q2l77yM5peg6ZyA5pu05pawJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcign5ZCM5q2l5q2j5YiZ5YiX6KGo5aSx6LSlOicsIGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1N5bmNpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8g56e76Zmk5oyH5a6a5ZCN56ew55qE5q2j5YiZXG4gIGNvbnN0IHJlbW92ZVJlZ2V4QnlOYW1lcyA9IGFzeW5jIChuYW1lczogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAobmFtZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdXBkYXRlVGF2ZXJuUmVnZXhlc1dpdGgoKHJlZ2V4ZXM6IFRhdmVyblJlZ2V4W10pID0+IHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXMuZmlsdGVyKChyOiBUYXZlcm5SZWdleCkgPT4gIW5hbWVzLmluY2x1ZGVzKHIuc2NyaXB0X25hbWUpKTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOW3suenu+mZpCAke25hbWVzLmxlbmd0aH0g5p2h6KeE5YiZYCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCfnp7vpmaTmraPliJnlpLHotKU6JywgZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOaJq+aPj+acgOWQjuS4gOWxgua2iOaBr+W5tuabtOaWsOWPmOmHj1xuICBjb25zdCBzY2FuQW5kVXBkYXRlVmFyaWFibGUgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUuaW5mbygn6Ieq6YCC5bqU5q2j5YiZOiDlvIDlp4vmiavmj4/mnIDlkI7kuIDlsYLmtojmga8nKTtcblxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXMoLTEpOyAvLyDojrflj5bmnIDlkI7kuIDmnaHmtojmga9cbiAgICAgIGNvbnNvbGUuaW5mbygn6Ieq6YCC5bqU5q2j5YiZOiDojrflj5bliLDnmoTmtojmga86JywgbWVzc2FnZXMpO1xuXG4gICAgICBpZiAoIW1lc3NhZ2VzIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5rKh5pyJ5om+5Yiw5raI5oGv77yM6L+U5ZueJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbGFzdE1lc3NhZ2UubWVzc2FnZTtcbiAgICAgIGNvbnNvbGUuaW5mbygn6Ieq6YCC5bqU5q2j5YiZOiDmtojmga/lhoXlrrk6JywgbWVzc2FnZUNvbnRlbnQpO1xuXG4gICAgICAvLyDojrflj5blt7LlrZjlgqjnmoTlkI3np7DvvIznlKjkuo7ot7Pov4fmo4DmtYtcbiAgICAgIGNvbnN0IHN0b3JlZE5hbWVzID0gZ2V0U3RvcmVkUmVnZXhOYW1lcygpO1xuICAgICAgY29uc29sZS5pbmZvKCfoh6rpgILlupTmraPliJk6IOW3suWtmOWCqOeahOato+WImeWQjeensDonLCBzdG9yZWROYW1lcyk7XG5cbiAgICAgIC8vIOajgOa1i+mcgOimgeeahOato+WImeWQjeensO+8iOi3s+i/h+W3suWtmOWCqOeahOato+WIme+8iVxuICAgICAgY29uc3QgZGV0ZWN0ZWROYW1lcyA9IGRldGVjdE5lZWRlZFNjcmlwdE5hbWVzKG1lc3NhZ2VDb250ZW50LCBzdG9yZWROYW1lcyk7XG4gICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5qOA5rWL5Yiw55qE5paw5q2j5YiZ5ZCN56ewOicsIGRldGVjdGVkTmFtZXMpO1xuXG4gICAgICAvLyDlkIjlubblubbljrvph41cbiAgICAgIGNvbnN0IGNvbWJpbmVkTmFtZXMgPSBbLi4ubmV3IFNldChbLi4uc3RvcmVkTmFtZXMsIC4uLmRldGVjdGVkTmFtZXNdKV07XG4gICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5ZCI5bm25ZCO55qE5q2j5YiZ5ZCN56ewOicsIGNvbWJpbmVkTmFtZXMpO1xuXG4gICAgICAvLyDlpoLmnpzmnInlj5jljJbvvIzkv53lrZjlubblkIzmraVcbiAgICAgIGNvbnN0IHN0b3JlZFNvcnRlZCA9IFsuLi5zdG9yZWROYW1lc10uc29ydCgpLmpvaW4oJywnKTtcbiAgICAgIGNvbnN0IGNvbWJpbmVkU29ydGVkID0gWy4uLmNvbWJpbmVkTmFtZXNdLnNvcnQoKS5qb2luKCcsJyk7XG4gICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5o6S5bqP5ZCO55qE5a2Y5YKo5ZCN56ewOicsIHN0b3JlZFNvcnRlZCk7XG4gICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5o6S5bqP5ZCO55qE5ZCI5bm25ZCN56ewOicsIGNvbWJpbmVkU29ydGVkKTtcblxuICAgICAgaWYgKHN0b3JlZFNvcnRlZCAhPT0gY29tYmluZWRTb3J0ZWQpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOajgOa1i+WIsOWPmOWMlu+8jOS7jiAke3N0b3JlZE5hbWVzLmxlbmd0aH0g5Liq5pu05paw5YiwICR7Y29tYmluZWROYW1lcy5sZW5ndGh9IOS4qmApO1xuICAgICAgICBzYXZlU3RvcmVkUmVnZXhOYW1lcyhjb21iaW5lZE5hbWVzKTtcbiAgICAgICAgYXdhaXQgc3luY1JlZ2V4V2l0aFZhcmlhYmxlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5peg5Y+Y5YyW77yM5LiN5pu05pawJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcign5omr5o+P5raI5oGv5pu05paw5Y+Y6YeP5aSx6LSlOicsIGUpO1xuICAgIH1cbiAgfTtcblxuICAvLyDliJ3lp4vljJbvvJrmoLnmja7lj5jph4/kuK3nmoTliJfooajms6jlhoznvLrlpLHnmoTmraPliJlcbiAgY29uc3QgaW5pdGlhbGl6ZUZyb21WYXJpYWJsZSA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBzdG9yZWROYW1lcyA9IGdldFN0b3JlZFJlZ2V4TmFtZXMoKTtcbiAgICBpZiAoc3RvcmVkTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOWIneWni+WMlu+8jOS7juWPmOmHj+WKoOi9vSAke3N0b3JlZE5hbWVzLmxlbmd0aH0g5Liq5q2j5YiZYCk7XG4gICAgICBhd2FpdCBzeW5jUmVnZXhXaXRoVmFyaWFibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5aaC5p6c5Y+Y6YeP5Li656m677yM5omr5o+P5b2T5YmN5raI5oGvXG4gICAgICBjb25zb2xlLmluZm8oJ+iHqumAguW6lOato+WImTog5Y+Y6YeP5Li656m677yM5omr5o+P5b2T5YmN5raI5oGvJyk7XG4gICAgICBhd2FpdCBzY2FuQW5kVXBkYXRlVmFyaWFibGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g55uR5ZCs5Y+Y6YeP5Y+Y5YyW55qE5LqL5Lu25Zue6LCDXG4gIGxldCBwcmV2aW91c1N0b3JlZE5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0IHdhdGNoVmFyaWFibGVDaGFuZ2UgPSAoKTogdm9pZCA9PiB7XG4gICAgLy8g5Yid5aeL6K6w5b2VXG4gICAgcHJldmlvdXNTdG9yZWROYW1lcyA9IGdldFN0b3JlZFJlZ2V4TmFtZXMoKTtcblxuICAgIC8vIOmHjeWGmSByZXBsYWNlVmFyaWFibGVzIOWHveaVsOadpeebkeWQrOWPmOmHj+WPmOWMllxuICAgIGNvbnN0IG9yaWdpbmFsUmVwbGFjZVZhcmlhYmxlcyA9IHJlcGxhY2VWYXJpYWJsZXM7XG4gICAgKHdpbmRvdyBhcyBhbnkpLnJlcGxhY2VWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBvcHRpb246IGFueSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gb3JpZ2luYWxSZXBsYWNlVmFyaWFibGVzLmNhbGwodGhpcywgdmFyaWFibGVzLCBvcHRpb24pO1xuXG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmmK/ogYrlpKnlj5jph4/lj5HnlJ/lj5jljJbvvIzkuJTkuI3lnKjlkIzmraXkuK1cbiAgICAgIGlmICghaXNTeW5jaW5nICYmIChvcHRpb24/LnR5cGUgPT09ICdjaGF0JyB8fCAhb3B0aW9uKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RvcmVkTmFtZXMgPSBnZXRTdG9yZWRSZWdleE5hbWVzKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTb3J0ZWQgPSBbLi4uY3VycmVudFN0b3JlZE5hbWVzXS5zb3J0KCkuam9pbignLCcpO1xuICAgICAgICBjb25zdCBwcmV2aW91c1NvcnRlZCA9IFsuLi5wcmV2aW91c1N0b3JlZE5hbWVzXS5zb3J0KCkuam9pbignLCcpO1xuXG4gICAgICAgIGlmIChjdXJyZW50U29ydGVkICE9PSBwcmV2aW91c1NvcnRlZCkge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyhg6Ieq6YCC5bqU5q2j5YiZOiDlj5jph4/lj5HnlJ/lj5jljJbvvIzliLfmlrDmraPliJnliJfooahgKTtcbiAgICAgICAgICAvLyDkvb/nlKjpmLLmipbvvIzpgb/lhY3popHnuYHop6blj5FcbiAgICAgICAgICBpZiAoc3luY1RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzeW5jVGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN5bmNUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzeW5jUmVnZXhXaXRoVmFyaWFibGUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcHJldmlvdXNTdG9yZWROYW1lcyA9IGdldFN0b3JlZFJlZ2V4TmFtZXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIOebkeWQrOaWsOa2iOaBr+S6i+S7tu+8iEFJ6L6T5Ye65a6M5oiQ5pe277yJXG4gIGV2ZW50T24odGF2ZXJuX2V2ZW50cy5NRVNTQUdFX1JFQ0VJVkVELCBhc3luYyAobWVzc2FnZUlkOiBudW1iZXIpID0+IHtcbiAgICBjb25zb2xlLmluZm8oYOiHqumAguW6lOato+WImTog5pS25Yiw5paw5raI5oGvICR7bWVzc2FnZUlkfe+8jOaJq+aPj+acgOaWsOalvOWxgmApO1xuICAgIGF3YWl0IHNjYW5BbmRVcGRhdGVWYXJpYWJsZSgpO1xuICB9KTtcblxuICAvLyDnm5HlkKzogYrlpKnliIfmjaLkuovku7bvvIjluKbpmLLmipbvvIlcbiAgZXZlbnRPbih0YXZlcm5fZXZlbnRzLkNIQVRfQ0hBTkdFRCwgYXN5bmMgKGNoYXRGaWxlTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5pbmZvKGDoh6rpgILlupTmraPliJk6IOajgOa1i+WIsOiBiuWkqeWIh+aNouWIsCAke2NoYXRGaWxlTmFtZX1gKTtcblxuICAgIC8vIOW/veeVpeebuOWQjOeahOiBiuWkqUlEXG4gICAgaWYgKGxhc3RDaGF0SWQgPT09IGNoYXRGaWxlTmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYXN0Q2hhdElkID0gY2hhdEZpbGVOYW1lO1xuXG4gICAgLy8g5riF6Zmk5LmL5YmN55qE5a6a5pe25ZmoXG4gICAgaWYgKHN5bmNUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc3luY1RpbWVvdXQpO1xuICAgIH1cblxuICAgIC8vIOmYsuaKlu+8muW7tui/nyA1MDBtcyDmiafooYzlkIzmraVcbiAgICBzeW5jVGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpc1N5bmNpbmcpIHtcbiAgICAgICAgYXdhaXQgc3luY1JlZ2V4V2l0aFZhcmlhYmxlKCk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfSk7XG5cbiAgLy8g5Y246L295pe256e76Zmk5omA5pyJ5pys6ISa5pys5rOo5YaM55qE5q2j5YiZXG4gICQod2luZG93KS5vbigncGFnZWhpZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVkTmFtZXMgPSBnZXRTdG9yZWRSZWdleE5hbWVzKCk7XG4gICAgaWYgKHN0b3JlZE5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHJlbW92ZVJlZ2V4QnlOYW1lcyhzdG9yZWROYW1lcyk7XG4gICAgICBjb25zb2xlLmluZm8oYOiHqumAguW6lOato+WImTog5bey5Y246L29ICR7c3RvcmVkTmFtZXMubGVuZ3RofSDmnaHop4TliJlgKTtcbiAgICB9XG4gICAgY29uc29sZS5pbmZvKCfoh6rpgILlupTmraPliJnohJrmnKzlt7Lljbjovb0nKTtcbiAgfSk7XG5cbiAgLy8g5ZCv5YqoXG4gIGNvbnNvbGUuaW5mbygn6Ieq6YCC5bqU5q2j5YiZOiDlkK/liqjliJ3lp4vljJYnKTtcbiAgYXdhaXQgaW5pdGlhbGl6ZUZyb21WYXJpYWJsZSgpO1xuICB3YXRjaFZhcmlhYmxlQ2hhbmdlKCk7XG5cbiAgY29uc3QgZW5hYmxlZFJ1bGVzID0gcmVnZXhEYXRhLmZpbHRlcigocjogYW55KSA9PiAhci5kaXNhYmxlZCkubGVuZ3RoO1xuICBjb25zb2xlLmluZm8oYOiHqumAguW6lOato+WImTog5YeG5aSH5LqGICR7ZW5hYmxlZFJ1bGVzfSDmnaHop4TliJnnlKjkuo7mo4DmtYtgKTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/自适应正则脚本/index.ts\n\n}");
  }
};

var __webpack_exports__ = {};

__webpack_modules__["./src/自适应正则脚本/index.ts"]();