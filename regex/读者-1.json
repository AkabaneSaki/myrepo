{
    "id": "e895fe89-d70e-4591-b0cf-1482c60cbe12",
    "scriptName": "读者对话渲染（二选一）",
    "findRegex": "/<dream name=\"(.*?)\">\\s*[「]?\\s*([\\s\\S]*?)\\s*[」]?\\s*<\\/dream>/g",
    "replaceString": "<div class=\"cafe-v20-responsive\"><!-- 字体库 --><style>@import url('https://fonts.googleapis.com/css2?family=Mr+De+Haviland&family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:ital,wght@0,600;1,600&family=Noto+Serif+SC:wght@300;400;700&family=Rye&display=swap');</style><!-- 装饰性外框层 --><div class=\"frame-ornaments\"><div class=\"corner c-tl\"></div><div class=\"corner c-tr\"></div><div class=\"corner c-bl\"></div><div class=\"corner c-br\"></div><div class=\"mid-deco m-top\"></div><div class=\"mid-deco m-bot\"></div><div class=\"border-lines\"></div></div><!-- 左侧面板 (机械区) --><div class=\"left-mech-panel\"><div class=\"gears-overlay\"><div class=\"gear g-large\"></div><div class=\"gear g-small\"></div></div><div class=\"portrait-camio\"><img src=\"https://files.catbox.moe/vi5ead.png\" class=\"char-face\" alt=\"Dream\"></div><!-- 钟摆: 仅在PC端显示 --><div class=\"pendulum-assembly desktop-only\"><div class=\"pivot-point\"></div><div class=\"p-arm\"></div><div class=\"p-weight\"></div></div></div><!-- 右侧面板 (信件区) --><div class=\"right-letter-panel\"><details class=\"letter-interaction\"><summary class=\"envelope-casing\"><div class=\"paper-grain\"></div><div class=\"stamps-cluster\"><div class=\"stamp s-back\"></div><div class=\"stamp s-front\"><div class=\"stamp-inner\"></div></div><div class=\"postmark\">404<br>ERR</div></div><div class=\"env-flap\"></div><div class=\"env-pocket\"></div><div class=\"wax-seal-solid\"><div class=\"seal-R\">R</div></div><div class=\"address-line\"><span class=\"label-text\">To: Writer</span></div><div class=\"tap-hint\">:: UNSEAL ::</div></summary><!-- 信纸核心 --><div class=\"manuscript-paper\"><div class=\"secret-header\">Dear {{user}}:</div><!-- 骨瓷杯: 响应式定位 --><div class=\"phantom-bonechina\"><svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid meet\"><g class=\"steam-group\"><path class=\"steam s1\" d=\"M38 30 Q 43 25, 38 20 T 38 10\" fill=\"none\" stroke=\"#c59d5f\" stroke-width=\"3\" stroke-linecap=\"round\" /><path class=\"steam s2\" d=\"M50 25 Q 55 20, 50 15 T 50 5\" fill=\"none\" stroke=\"#c59d5f\" stroke-width=\"3\" stroke-linecap=\"round\" /><path class=\"steam s3\" d=\"M62 30 Q 67 25, 62 20 T 62 10\" fill=\"none\" stroke=\"#c59d5f\" stroke-width=\"3\" stroke-linecap=\"round\" /></g><path d=\"M30 40 Q 30 65, 40 75 Q 45 80, 50 80 Q 55 80, 60 75 Q 70 65, 70 40 L 70 38 L 30 38 Z\" fill=\"#c59d5f\"/><path d=\"M40 80 L 40 82 Q 40 85, 50 85 Q 60 85, 60 82 L 60 80\" fill=\"#c59d5f\"/><path d=\"M70 42 Q 85 40, 85 50 Q 85 60, 75 65 L 72 63\" fill=\"none\" stroke=\"#c59d5f\" stroke-width=\"4\" stroke-linecap=\"round\" /></svg></div><div class=\"paper-pattern\"></div><div class=\"ornament-corner top-l\"></div><div class=\"ornament-corner top-r\"></div><div class=\"ornament-corner bot-l\"></div><div class=\"ornament-corner bot-r\"></div><div class=\"divider-top\"><svg viewBox=\"0 0 200 10\" preserveAspectRatio=\"none\"><rect x=\"0\" y=\"4\" width=\"200\" height=\"1\" fill=\"#8d6e63\" opacity=\"0.5\"/><rect x=\"95\" y=\"0\" width=\"10\" height=\"10\" fill=\"#8d6e63\" transform=\"rotate(45 100 5)\"/></svg></div><div class=\"text-body-royal\">$2</div><div class=\"signature-area\"><span class=\"sig-mini\">$1</span></div></div></details></div></div><style>/* === 全局配置 === */.cafe-v20-responsive {--w-dark: #2d1e18;--w-med: #3e2723;--gold: #c59d5f;--paper: #f5f1e6;--ink: #2b1d16;--f-sig: 'Mr De Haviland', cursive;--f-body: 'Noto Serif SC', serif;--f-en: 'Cormorant Garamond', serif;--f-deco: 'Rye', serif;position: relative;width: 96%;max-width: 820px;margin: 35px auto;background: #120c0a;border: 2px solid var(--gold);outline: 6px solid var(--w-med);box-shadow: 0 0 0 8px #1a100c, 0 30px 60px rgba(0,0,0,0.9);border-radius: 4px;display: flex;flex-direction: row;perspective: 1000px;overflow: visible;padding: 4px;box-sizing: border-box;}/* === 左侧面板 === */.left-mech-panel {width: 170px;flex-shrink: 0;background: linear-gradient(180deg, #0f0a08, #1f120e);position: relative;z-index: 1;display: flex;flex-direction: column;align-items: center;border-right: 1px solid rgba(197, 157, 95, 0.1);box-shadow: inset -5px 0 15px rgba(0,0,0,0.5);min-height: 400px;transition: all 0.3s ease;}.gears-overlay {position: absolute;top: -40px;left: -40px;width: 100%;height: 250px;pointer-events: none;opacity: 0.1;overflow: hidden;}.gear {position: absolute;background-size: contain;}.g-large {width: 160px; height: 160px; background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23c59d5f'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z'/%3E%3Cpath d='M12 4V2m0 20v-2m8-8h2M2 12h2m13.66-6.34l1.41-1.41M4.93 19.07l1.41-1.41m11.32 0l1.41 1.41M4.93 4.93l1.41 1.41' stroke='%23c59d5f' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E\");animation: spin 60s linear infinite;}.g-small {width: 80px; height: 80px; top: 120px; left: 90px; background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23c59d5f'%3E%3Ccircle cx='12' cy='12' r='9' stroke='%23c59d5f' stroke-width='2' stroke-dasharray='2 3' fill='none'/%3E%3C/svg%3E\");animation: spin-rev 30s linear infinite;}.portrait-camio {width: 100px;height: 100px;margin-top: 35px;border-radius: 50%;border: 2px solid var(--gold);outline: 4px double rgba(197, 157, 95, 0.3);background: #000;z-index: 5;overflow: hidden;box-shadow: 0 5px 20px rgba(0,0,0,0.6);position: relative;flex-shrink: 0;}.char-face {width: 100%;height: 100%;object-fit: cover;object-position: 50% 15%;transition: transform 0.5s ease;}.cafe-v20-responsive:hover .char-face {transform: scale(1.1);}.pendulum-assembly {position: absolute;top: 137px;left: 50%;z-index: 4;transform-origin: top center;animation: p-swing 3s ease-in-out infinite;}.pivot-point {width: 6px;height: 6px;background: var(--gold);border-radius: 50%;position: absolute;top: -3px;left: -3px;box-shadow: 0 1px 3px rgba(0,0,0,0.8);}.p-arm {width: 1px;height: 140px;background: rgba(197, 157, 95, 0.4);margin: 0 auto;}.p-weight {width: 20px;height: 20px;margin: -2px auto 0;border-radius: 50%;background: radial-gradient(circle at 35% 35%, var(--gold), #3e2723);box-shadow: 0 4px 8px rgba(0,0,0,0.6);}.right-letter-panel {flex-grow: 1;background: #18100d;position: relative;display: flex;flex-direction: column;justify-content: center;padding: 20px;z-index: 10;box-shadow: -5px 0 20px rgba(0,0,0,0.3);min-width: 0;}.letter-interaction {width: 100%;}.envelope-casing {list-style: none;display: block;position: relative;width: 100%;height: 190px;background: #3e2723;box-shadow: 0 10px 30px rgba(0,0,0,0.6);border-radius: 2px;cursor: pointer;z-index: 20;overflow: hidden;transition: transform 0.3s;border: 1px solid rgba(255,255,255,0.05);}.envelope-casing:hover {transform: translateY(-2px);}.paper-grain {position: absolute;top:0;left:0;width:100%;height:100%;background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E\");opacity: 0.3;mix-blend-mode: overlay;z-index: 1;}.env-pocket {position: absolute;bottom: 0;left: 0;width: 100%;height: 110px;background: linear-gradient(to top, #3e2723, #4e342e);clip-path: polygon(0 0, 50% 30%, 100% 0, 100% 100%, 0 100%);z-index: 2;}.env-flap {position: absolute;top: 0;left: 0;width: 100%;height: 120px;background: #4e342e;clip-path: polygon(0 0, 100% 0, 50% 70%);z-index: 3;transform-origin: top;transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);}.stamps-cluster {position: absolute;top: 15px;right: 15px;width: 100px;height: 80px;z-index: 10;transform: rotate(2deg);}.stamp {position: absolute;width: 50px;height: 60px;background: #2a1b15;border: 2px dotted #5d4037;box-shadow: 0 2px 5px rgba(0,0,0,0.3);}.s-back {top: 0;right: 20px;background: #4e342e;transform: rotate(-10deg);}.s-front {top: 10px;right: 5px;background: #5d4037;border-color: #8d6e63;transform: rotate(5deg);display: flex;align-items: center;justify-content: center;}.stamp-inner {width: 40px;height: 50px;border: 1px solid rgba(197, 157, 95, 0.3);background-image: radial-gradient(circle, rgba(197, 157, 95, 0.2) 2px, transparent 2px);background-size: 8px 8px;}.postmark {position: absolute;top: 20px;right: 15px;width: 60px;height: 60px;border: 2px solid rgba(40, 30, 25, 0.6);border-radius: 50%;color: rgba(40, 30, 25, 0.6);font-family: 'Rye', cursive;font-size: 14px;display: flex;align-items: center;justify-content: center;text-align: center;transform: rotate(-15deg);mix-blend-mode: multiply;pointer-events: none;box-shadow: inset 0 0 0 2px rgba(40, 30, 25, 0.1);line-height: 1;background: radial-gradient(transparent 60%, rgba(40, 30, 25, 0.1));letter-spacing: 1px;}.wax-seal-solid {position: absolute;top: 65px;left: 50%;transform: translateX(-50%);width: 44px;height: 44px;background: radial-gradient(circle at 30% 30%, #a63737, #7f2b1d);border-radius: 50%;z-index: 4;box-shadow: 0 3px 6px rgba(0,0,0,0.4);display: flex;align-items: center;justify-content: center;font-family: var(--f-en);color: rgba(0,0,0,0.3);font-weight: bold;transition: all 0.4s;}.address-line {position: absolute;bottom: 25px;right: 30px;z-index: 5;transform: rotate(-1deg);}.label-text {font-family: var(--f-en);font-size: 1.3em;color: #d7ccc8;font-style: italic;letter-spacing: 1px;opacity: 0.8;}.tap-hint {position: absolute;top: 15px;left: 15px;font-size: 0.6em;color: rgba(255,255,255,0.15);letter-spacing: 2px;}details[open] .env-flap {transform: rotateX(180deg);opacity: 0;}details[open] .wax-seal-solid {transform: scale(1.4);opacity: 0;}details[open] .envelope-casing {height: 0;opacity: 0;pointer-events: none;}.manuscript-paper {position: relative;background: var(--paper);padding: 40px 50px 30px;margin-top: -20px;color: var(--ink);border-radius: 2px;box-shadow: 0 5px 25px rgba(0,0,0,0.4);opacity: 0;transform: translateY(-30px);animation: paper-reveal 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;animation-delay: 0.1s;border: 1px solid #e0d8c8;}.phantom-bonechina {position: absolute;bottom: 30px;left: -190px;width: 170px;height: 170px;z-index: 100;pointer-events: none;opacity: 0.2;transition: all 0.5s ease;}.steam {opacity: 0;animation: steam-rise 3s ease-out infinite;}.s1 { animation-delay: 0s; }.s2 { animation-delay: 1s; }.s3 { animation-delay: 2s; }.paper-pattern {position: absolute;top: 0;left: 0;width: 100%;height: 100%;background-image: radial-gradient(#d7ccc8 1px, transparent 1px);background-size: 20px 20px;opacity: 0.3;pointer-events: none;}.secret-header {position: absolute;top: 15px;left: 50px;font-family: var(--f-en);font-size: 10px;color: rgba(43, 29, 22, 0.3);letter-spacing: 0.5px;pointer-events: none;}.text-body-royal {position: relative;z-index: 5;font-family: var(--f-body);font-size: 1.05em;line-height: 1.8;text-align: justify;white-space: pre-wrap;}.text-body-royal::first-letter {float: left;font-family: 'Cinzel Decorative', serif;font-size: 2.8em;line-height: 0.8;padding-right: 6px;color: #b08d55;}.signature-area {margin-top: 30px;display: flex;justify-content: flex-end;padding-right: 0;}.sig-mini {font-family: var(--f-sig);font-size: 0.8em;color: rgba(43, 29, 22, 0.4);transform: rotate(-3deg);}.frame-ornaments {position: absolute;top: -10px; left: -10px; right: -10px; bottom: -10px;pointer-events: none;z-index: 50;border: 1px dashed rgba(197, 157, 95, 0.3);}.corner {position: absolute;width: 40px;height: 40px;background-size: contain;background-repeat: no-repeat;filter: drop-shadow(0 2px 2px rgba(0,0,0,0.8));}.mid-deco {position: absolute;left: 50%;transform: translateX(-50%);width: 100px;height: 20px;background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20'%3E%3Cpath d='M0,10 Q20,10 30,5 Q50,0 70,5 Q80,10 100,10 L100,12 Q80,12 70,7 Q50,2 30,7 Q20,12 0,12 Z' fill='%23c59d5f' opacity='0.6'/%3E%3Ccircle cx='50' cy='6' r='4' fill='%23c59d5f'/%3E%3C/svg%3E\");}.c-tl {top: 0; left: 0; background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpath d='M2,2 L2,15 Q2,5 12,5 L35,5 L35,2 L2,2 Z' fill='%23c59d5f'/%3E%3Cpath d='M5,15 Q5,30 20,30 L20,35 Q0,35 0,15 Z' fill='%23c59d5f' opacity='0.8'/%3E%3Ccircle cx='5' cy='5' r='2' fill='%23fff' opacity='0.5'/%3E%3C/svg%3E\");}.c-tr {top: 0; right: 0; transform: scaleX(-1); background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpath d='M2,2 L2,15 Q2,5 12,5 L35,5 L35,2 L2,2 Z' fill='%23c59d5f'/%3E%3Cpath d='M5,15 Q5,30 20,30 L20,35 Q0,35 0,15 Z' fill='%23c59d5f' opacity='0.8'/%3E%3Ccircle cx='5' cy='5' r='2' fill='%23fff' opacity='0.5'/%3E%3C/svg%3E\");}.c-bl {bottom: 0; left: 0; transform: scaleY(-1); background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpath d='M2,2 L2,15 Q2,5 12,5 L35,5 L35,2 L2,2 Z' fill='%23c59d5f'/%3E%3Cpath d='M5,15 Q5,30 20,30 L20,35 Q0,35 0,15 Z' fill='%23c59d5f' opacity='0.8'/%3E%3Ccircle cx='5' cy='5' r='2' fill='%23fff' opacity='0.5'/%3E%3C/svg%3E\");}.c-br {bottom: 0; right: 0; transform: scale(-1); background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpath d='M2,2 L2,15 Q2,5 12,5 L35,5 L35,2 L2,2 Z' fill='%23c59d5f'/%3E%3Cpath d='M5,15 Q5,30 20,30 L20,35 Q0,35 0,15 Z' fill='%23c59d5f' opacity='0.8'/%3E%3Ccircle cx='5' cy='5' r='2' fill='%23fff' opacity='0.5'/%3E%3C/svg%3E\");}.m-top {top: -6px;}.m-bot {bottom: -6px; transform: translateX(-50%) rotate(180deg);}@media (max-width: 600px) { .cafe-v20-responsive { flex-direction: column; margin: 20px 5px; width: auto; max-width: 100%; border-width: 1px; outline-width: 3px; box-shadow: 0 0 0 4px #1a100c, 0 10px 30px rgba(0,0,0,0.9); } .left-mech-panel { width: 100%; min-height: 100px; border-right: none; border-bottom: 1px solid rgba(197, 157, 95, 0.1); flex-direction: row; justify-content: center; padding: 15px 0; overflow: hidden; } .portrait-camio { width: 70px; height: 70px; margin-top: 0; } .desktop-only { display: none; } .right-letter-panel { padding: 15px 10px; } .envelope-casing { height: 160px; } .manuscript-paper { padding: 30px 20px 20px; margin-top: -10px; } .phantom-bonechina { left: auto; right: -20px; bottom: 10px; width: 120px; height: 120px; opacity: 0.15; transform: rotate(-10deg); } .corner { width: 25px; height: 25px; } .mid-deco { width: 60px; } .secret-header { left: 20px; top: 10px; } .text-body-royal { font-size: 0.95em; }}@keyframes steam-rise { 0% { opacity: 0; transform: translateY(0) translateX(0); } 50% { opacity: 0.8; transform: translateY(-5px) translateX(2px); } 100% { opacity: 0; transform: translateY(-10px) translateX(-2px); } }@keyframes spin { 100% { transform: rotate(360deg); } }@keyframes spin-rev { 100% { transform: rotate(-360deg); } }@keyframes p-swing { 0%, 100% { transform: translateX(-50%) rotate(5deg); } 50% { transform: translateX(-50%) rotate(-5deg); } }@keyframes paper-reveal { 0% { opacity: 0; transform: translateY(-40px); } 100% { opacity: 1; transform: translateY(0); } }</style>",
    "trimStrings": [],
    "placement": [
        2
    ],
    "disabled": false,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": 10
}